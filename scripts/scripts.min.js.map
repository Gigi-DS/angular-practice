{"version":3,"sources":["app.js","config.js","controllers/addarticle.js","controllers/article.js","controllers/articles.js","controllers/home.js","controllers/persons.js","controllers/register.js","services/directives.js","services/services.js"],"names":["blogApp","angular","module","controller","$scope","$http","main","Name","Address","config","$routeProvider","when","templateUrl","otherwise","redirectTo","articles","LS","artID","article","id","img","title","short_desc","desc","addArticle","getData","console","log","setId","push","setData","$routeParams","get","articleId","$window","orderArticle","removeArticle","i","length","splice","query","customerData","$log","persons","getAllData","then","data","searchParams","search","showAllCustomers","customerFilter","sort","keyName","sortKey","reverse","user","directive","restrict","link","scope","element","attrs","on","regform","email","$error","required","alert","$invalid","name","minlength","password","require","elem","firstPassword","pwCheck","val","$","articleServices","factory","$resource","method","params","isArray","init","localStorage","Error","setItem","JSON","stringify","parse","getItem","clearData","removeItem","Math","floor","random","$q","customers","dataLoad","resolve","baseUrl","response","searchCustomer","obj","toLocaleLowerCase","toLowerCase","invalidEntries","undefined","arrSearch","filter"],"mappings":"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","file":"scripts.min.js","sourcesContent":["/**\n * @author Admin\n */\nvar blogApp = angular.module('someBlogApp',[\n\t'ngRoute',\n\t'someBlogServices',\n\t'angularUtils.directives.dirPagination'\n]);\n\nblogApp.controller('testCtrl',['$scope','$http', function($scope,$http){\n    $scope.main={\n        Name: 'Gigi',\n        Address: 'Unknown' \n    }; \n}]);\n","/**\n * @author Admin\n */\nblogApp.config(['$routeProvider',function($routeProvider){\n\t$routeProvider.\n\twhen('/',{\n\t\ttemplateUrl: 'app/views/home.html',\n\t\tcontroller: 'homeCtrl'\n\t})\n\t.when('/articles',{\n\t\ttemplateUrl: \"app/views/articles.html\",\n\t\tcontroller: 'articlesCtrl'\n\t})\n\t.when('/article/:articleId',{\n\t\ttemplateUrl: 'app/views/article.html',\n\t\tcontroller: 'articleCtrl'\n\t}).\n\twhen('/register',{\n\t\ttemplateUrl: 'app/views/register.html',\n\t\tcontroller: 'registerCtrl'\n\t})\n    .when('/addarticle',{\n        templateUrl: 'app/views/addarticle.html',\n        controller: 'addArticleCtrl'\n    })\n     .when('/persons',{\n        templateUrl: 'app/views/persons.html',\n        controller: 'personsCtrl'\n    })\n\t.otherwise({\n\t\tredirectTo:'app/'\n\t});\n}]);","blogApp.controller('addArticleCtrl',['$scope','$http','articles','LS','artID',function($scope,$http,articles,LS,artID){\r\n//    empty new article obj\r\n\t$scope.article={\r\n        id:\"\",\r\n        img:\"\",\r\n        title:\"\",\r\n        short_desc:\"\",\r\n        desc:\"\"\r\n    };\r\n    \r\n    \r\n    $scope.addArticle=function(article){\r\n//        getting all existing articles\r\n        $scope.articles=LS.getData();\r\n        console.log(\"old articles\"+$scope.articles);\r\n        \r\n        //getting id for new article\r\n        $scope.id=artID.setId();\r\n        if($scope.articles.id=$scope.id){\r\n            $scope.id=artID.setId();\r\n        }\r\n//      setting id and img to new article obj\r\n        $scope.article.id=$scope.id;\r\n        $scope.article.img=\"3.jpg\";\r\n//        pushing new article to the rest of article\r\n        $scope.articles=$scope.articles.push(article);\r\n        console.log(\"new articles\"+$scope.articles);\r\n        console.log($scope.article);\r\n        \r\n        LS.setData($scope.articles);\r\n    }\r\n}]);","blogApp.controller('articleCtrl',['$scope','$http','$routeParams','articles',function($scope,$http,$routeParams,articles){\r\n\t$scope.article = articles.get({articleId: $routeParams.articleId});\r\n}]);","blogApp.controller('articlesCtrl',['$scope','$window','$http','articles','LS',function($scope,$window,$http,articles,LS){\r\n//\t$window.alert(\"14\");\r\n//\t $scope.articles=articles.query();\r\n//\t $http.get(\"jsondata/articles.json\").success(function(data){\r\n//\t\t console.log(JSON.stringify(data));\r\n//\t\t LS.setData(data,'articles-storage');\r\n//\t\t $scope.articles=data;\r\n//\t });\r\n//\t\r\n\t// article order\r\n\t $scope.orderArticle='-id';\r\n\t \r\n\t // gettind articles\r\n\t  $scope.articles=LS.getData('articles-storage');\r\n\t  console.log($scope.articles);\r\n\t  \r\n\t  //pagination\r\n//\t$window.alert($scope.articles.id);\r\n   $scope.removeArticle = function(id){\r\n       for( i=$scope.articles.length-1; i>=0; i--) {\r\n            if( $scope.articles[i].id == id) $scope.articles.splice(i,1);\r\n           LS.setData($scope.articles);\r\n       }\r\n   }\r\n\t  \r\n}]);\r\n","blogApp.controller('homeCtrl',['$scope','$http','articles',function($scope,$http,articles){\r\n\t$scope.articles=articles.query();\r\n}]);","blogApp.controller('personsCtrl',['$scope','$routeParams','$window','customerData','$log','LS',function($scope,$routeParams,$window,customerData,$log,LS){\r\n   \r\n    //setting empty array for records\r\n\t$scope.persons=[];\r\n    \r\n    //on load getting all records\r\n    customerData.getAllData().then(function(data){\r\n        $scope.persons = data;\r\n    });\r\n    \r\n//    search\r\n    $scope.searchParams=function(search){\r\n        customerData.getData(search).then(function(data) {\r\n            $scope.persons = data;\r\n        });\r\n    }\r\n    \r\n    \r\n//    show all customers\r\n    $scope.showAllCustomers=function(){\r\n         customerData.getAllData().then(function(data){\r\n             $scope.persons = data;\r\n             $scope.search = \"\";\r\n             $scope.customerFilter = \"\";\r\n        });\r\n    }\r\n    \r\n    //sort\r\n    $scope.sort=function(keyName){\r\n        $scope.sortKey=keyName;\r\n        $scope.reverse = !$scope.reverse;\r\n    }\r\n}]); ","blogApp.controller('registerCtrl',['$scope','$http',function($scope,$http){\r\n\t$scope.user={};\r\n}]);","/**\n * @author Admin\n */\nblogApp.directive('someBlogArticles',function(){\n\treturn{\n\t\trestrict: 'A',\n\t\ttemplateUrl: 'app/views/directivetmpl/articles.html'\n\t};\n})\n\n\n.directive(\"someBlogFullArticle\",function(){\n\treturn{\n\t\trestrict: 'E',\n\t\ttemplateUrl: 'app/views/directivetmpl/fullarticle.html'\n\t};\n})\n\n\n.directive('emailRequiredValid',function(){\n\treturn{\n\t\tlink: function(scope, element, attrs){\n\t\t\telement.on(\"blur\",function(){\n\t\t\t\tif(scope.regform.email.$error.required){\n\t\t\t\t\talert(\"field is required\");\n\t\t\t\t}\n\t\t\t\tif(scope.regform.email.$invalid && !scope.regform.email.$error.required){\n\t\t\t\t\talert(\"invalid email\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t};\n})\n\n.directive('nameRequired',function(){\n\treturn{\n\t\tlink: function(scope, element, attrs){\n\t\t\telement.on(\"blur\",function(){\n\t\t\t\tif(scope.regform.name.$error.required){\n\t\t\t\t\talert(\"field is required\");\n\t\t\t\t}\n\t\t\t\tif(scope.regform.$error.minlength){\n\t\t\t\t\talert('You must enter min. 3 characters');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t};\n})\n\n.directive('passRequired',function(){\n\treturn{\n\t\trestrict: 'A',\n\t\tlink: function(scope,element,attrs){\n\t\t\telement.on('blur',function(){\n\t\t\t\tif(scope.regform.password.$error.required){\n\t\t\t\t\talert(\"this field is required\");\n\t\t\t\t}\n\t\t\t\tif(scope.regform.password.$error.minlength){\n\t\t\t\t\talert('You must enter min. 6 characters');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n})\n\n.directive('pwCheck', [function () {\n    return {\n      require: 'ngModel',\n      link: function (scope, elem, attrs) {\n        var firstPassword = '#' + attrs.pwCheck;\n        elem.on('blur', function(){\n        \tif(elem.val()!==$(firstPassword).val()){\n        \t\talert(\"Passwords doesn`t match!\");\n        \t}\n        });\n        \n      }\n    };\n  }]);","var articleServices = angular.module('someBlogServices', ['ngResource']);\r\n\r\narticleServices.factory('articles', ['$resource',\r\n  function($resource){\r\n    return $resource('jsondata/:articleId.json', {}, {\r\n      query: {method:'GET', params:{articleId:'articles'}, isArray:true}\r\n    });\r\n  }]);\r\n  \r\n articleServices.factory(\"LS\",['$window',function($window){\r\n \tinit();\r\n     \r\n     return{\r\n \t\tsetData: function(val,name){\r\n            \r\n \t\t\t$window.localStorage.setItem(name,JSON.stringify(val));\r\n \t\t},\r\n \t\tgetData: function(name){\r\n \t\t\t return JSON.parse($window.localStorage.getItem(name));\r\n \t\t\t\r\n \t\t},\r\n        clearData: function(name){\r\n            $window.localStorage.removeItem(name);\r\n        }\r\n \t};\r\n     \r\n     function init() {\r\n        if(!$window.localStorage)\r\n                throw new Error('local Storage is not set');\r\n     }\r\n }]);\r\n\r\n articleServices.factory(\"artID\",['$window',function($window){\r\n    return{\r\n        setId: function(){\r\n            return Math.floor((Math.random()*6000)+1);\r\n        }\r\n    }\r\n    \r\n }]);\r\n\r\n articleServices.factory(\"customerData\",[\"$http\",'LS','$q',function($http,LS,$q){\r\n     var baseUrl = 'jsondata/articles1.json';\r\n     var dataLoad = null; \r\n     init();\r\n     return{ \r\n//         ,sort,direction,pageIndex,pageSize\r\n        getData: function(search)\r\n        {\r\n            return dataLoad.then(function(data) {\r\n               // console.log(data);\r\n                \r\n                //todo filter sort \r\n               // console.log(data);\r\n                //create search function\r\n                var invalidEntries =0;\r\n                \r\n                function searchCustomer(obj){\r\n                   // console.log(obj);\r\n                    if('name' in obj && obj.name.toLocaleLowerCase() === search.toLowerCase()){\r\n                        return true;\r\n                    }else{\r\n                        invalidEntries++;\r\n                        return false;\r\n                    }\r\n                }\r\n               // alert(invalidEntries);\r\n//                check if isset search params\r\n                if(search !=undefined){\r\n//                    alert(search);\r\n                    var arrSearch = data.filter(searchCustomer);\r\n                    \r\n                    console.log('Filtered Array\\n', arrSearch);\r\n                    //console.log('Number of Invalid Entries = ', invalidEntries); \r\n                    \r\n                    return arrSearch; \r\n                }\r\n                \r\n                \r\n            }\r\n                                );\r\n        },\r\n         getAllData: function(){\r\n            return dataLoad.then(function(data){\r\n                return data;\r\n            })\r\n         }\r\n}\r\n     function init(){\r\n         customers = LS.getData(\"cutomers\");\r\n         if(customers){\r\n            dataLoad = $q.resolve(customers);\r\n         }\r\n             \r\n         else\r\n             dataLoad = $http.get(baseUrl).then(function(response){\r\n                LS.setData(response.data,\"cutomers\");\r\n                return response.data;\r\n            });\r\n         \r\n         return dataLoad;\r\n         \r\n         \r\n         \r\n     }\r\n }]);"],"sourceRoot":"/source/"}