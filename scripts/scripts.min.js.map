{"version":3,"sources":["controllers/persons.js","app.js","config.js","controllers/addarticle.js","controllers/addCust.js","controllers/article.js","controllers/articles.js","controllers/editCustomer.js","controllers/home.js","controllers/register.js","services/directives.js","services/services.js"],"names":["test1","i","f","exec","blogApp","angular","module","controller","$scope","$http","main","Name","Address","config","$routeProvider","when","templateUrl","otherwise","redirectTo","articles","LS","artID","article","id","img","title","short_desc","desc","addArticle","getData","console","log","setId","push","setData","$log","$window","customerData","cust","name","lastname","hobby","age","addCust","newCust","addCustomer","then","data","alert","redirect","location","$routeParams","get","articleId","orderArticle","removeArticle","length","splice","$location","init","getCustomer","customerId","customer","updateCustomer","path","removeData","index","confirm","removeItem","toUrl","query","fac","f1","f2","f3","say","message","sayV2","sayfunctional","$filter","refresh","search","sortKey","reverse","pageIndex","pageSize","items","convertModelToVM","persons","totalPages","Math","ceil","count","totalPagesArr","numToArr","e","model","birthday","Date","today","minutes","hours","days","years","round","xPagesLeftRight","Arr","maxPageRightLeft","arr","left","right","sort","n","removeId","reloadPage","reload","keyName","setPage","personId","error","user","directive","restrict","link","scope","element","attrs","on","regform","email","$error","required","$invalid","minlength","password","require","elem","firstPassword","pwCheck","val","$","articleServices","factory","$resource","method","params","isArray","localStorage","Error","setItem","JSON","stringify","parse","getItem","clearData","floor","random","$q","customers","dataLoad","resolve","baseUrl","response","status","staus","statusText","onError","source","sortReverse","searchArr","results","toLowerCase","pages","cout","beginWith","getCount","findIndex","item","newCustomer","lastId","forEach","value","key","copy","len"],"mappings":"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","file":"scripts.min.js","sourcesContent":["//practice with functiuonal programming\r\nfunction test1() {\r\n    var i = 4;\r\n   // alert(\"first: \"+i);\r\n    f = function () {\r\n        i = i + 1;\r\n       // alert(\"second: \"+i);\r\n        return i;\r\n    }\r\n    return {\r\n        exec: f\r\n    };\r\n}\r\n\r\n\r\nvar fac = test1;\r\n\r\nf1 = fac();\r\nf2 = fac();\r\nf3 = fac();\r\n\r\n\r\nconsole.log('f1.1:' + f1.exec());\r\nconsole.log('f2.1:' + f2.exec());\r\nconsole.log('f3.3:' + f3.exec());\r\nconsole.log('f1.2:' + f1.exec());\r\nconsole.log('f1.3:' + f1.exec());\r\nconsole.log('f3.2:' + f3.exec());\r\nconsole.log('f2.2:' + f2.exec());\r\n\r\n\r\nvar say = function(name, message){\r\n    console.log(name+\" say \"+message);\r\n}\r\n\r\nsay(\"Gigi\", \"morning\");\r\n\r\nsay(\"Gigi\",\"morning\",\"third param no to display\");\r\n\r\nsay(\"gigi\");\r\n\r\n\r\nsayV2=function(name, message){\r\n    console.log(name+\" say \"+(message || \"nothing at all\"));\r\n}\r\n\r\nsayV2(\"gigi\");\r\n\r\n//always return something\r\nsayfunctional=function(name, message){\r\n    return name+\" say \"+(message || 'nothing at all yo');\r\n}\r\n\r\nconsole.log(sayfunctional(\"Gigi\"));\r\n\r\n//finish practice with functional programming\r\n\r\nblogApp.controller('personsCtrl',['$scope','$routeParams','$window','customerData','$log','$location','$filter',function($scope,$routeParams,$window,customerData,$log,$location,$filter){\r\n   \r\n    //setting empty array for records\r\n\t$scope.persons=[];\r\n    $scope.search = \"\";\r\n    $scope.sortKey = \"id\";\r\n    $scope.reverse = true;\r\n    $scope.pageIndex = 1;\r\n    $scope.pageSize = 5;\r\n    $scope.maxPageRightLeft=2;\r\n    $scope.totalPages = 0;\r\n    $scope.removeId=false;\r\n    $scope.refresh=refresh;\r\n    \r\n  init();\r\n    \r\n    \r\n    \r\n    function init(){\r\n        refresh();\r\n    }\r\n    \r\n    $scope.reloadPage=function(){\r\n        $window.location.reload();\r\n    }\r\n    \r\n    function refresh(){\r\n        customerData.getData($scope.search,$scope.sortKey,$scope.reverse,$scope.pageIndex, $scope.pageSize).then(function(data){\r\n            //console.log(data.status);\r\n            \r\n           //for loop persons convertModelToVM function\r\n            items = data.items;\r\n            for(i=0;i<items.length ; i++)\r\n                items[i] = convertModelToVM(items[i]);\r\n            \r\n            \r\n            $scope.persons = data.items;\r\n            $scope.totalPages = Math.ceil(data.count / $scope.pageSize);\r\n            $scope.totalPagesArr = numToArr($scope.totalPages);\r\n        }).catch(function(e){\r\n            $window.alert(e.message);\r\n        });\r\n    }\r\n      function convertModelToVM(model){\r\n          var birthday = new Date(model.age);\r\n         var today = new Date($filter('date')(new Date,'yyyy/MM/dd'));\r\n          $log.log\r\n          var age = today - birthday;\r\n          \r\n          var minutes = 1000*60;\r\n          var hours = minutes*60;\r\n          var days = hours*24;\r\n          var years = days*365;\r\n          \r\n          model.age = Math.round(age/years);\r\n          \r\n          \r\n        return model;\r\n      }\r\n    \r\n    //sort\r\n    $scope.sort=function(keyName){\r\n        if($scope.sortKey!=keyName){\r\n            $scope.sortKey = keyName;\r\n            $scope.reverse = false;\r\n        }else{\r\n             $scope.reverse = !$scope.reverse;\r\n        }\r\n        refresh();\r\n    }\r\n    \r\n    //pagination\r\n    $scope.setPage=function(index){\r\n        $scope.pageIndex = index;\r\n        refresh();\r\n    }\r\n   \r\n   $scope.redirect=function(toUrl,personId){\r\n       $window.location =toUrl+personId;\r\n   }\r\n   \r\n   //x page left and rigth to the current page\r\n  function xPagesLeftRight(Arr){\r\n      //checking if not empty maxPageRightLeft\r\n      if($scope.maxPageRightLeft == null) $scope.maxPageRightLeft = 2;\r\n       var arr=[];\r\n      //setting left pages\r\n        for(i=1;i<=$scope.maxPageRightLeft;i++){\r\n            var left = $scope.pageIndex - i;\r\n            var right = $scope.pageIndex + i;\r\n            if(left>0){\r\n                arr.push(left);\r\n            }\r\n            if(right<=$scope.totalPages)\r\n            arr.push(right);\r\n        }\r\n      \r\n      //setting current page\r\n      arr.push($scope.pageIndex);\r\n      return arr.sort();\r\n   }\r\n   \r\n   \r\n    //from number to array\r\n     function numToArr(n){\r\n        var arr = [];\r\n        for(i =1; i <= n; i++){\r\n            \r\n            arr.push(i);\r\n        }\r\n         xPagesLeftRight(arr);\r\n         return xPagesLeftRight(arr);\r\n    }\r\n    $log.error();\r\n}]); ","/**\n * @author Admin\n */\nvar blogApp = angular.module('someBlogApp',[\n\t'ngRoute',\n\t'someBlogServices',\n\t'angularUtils.directives.dirPagination'\n]);\n\nblogApp.controller('testCtrl',['$scope','$http', function($scope,$http){\n    $scope.main={\n        Name: 'Gigi',\n        Address: 'Unknown' \n    }; \n}]);\n","/**\n * @author Admin\n */\nblogApp.config(['$routeProvider',function($routeProvider){\n\t$routeProvider.\n\twhen('/',{\n\t\ttemplateUrl: 'app/views/home.html',\n\t\tcontroller: 'homeCtrl'\n\t})\n\t.when('/articles',{\n\t\ttemplateUrl: \"app/views/articles.html\",\n\t\tcontroller: 'articlesCtrl'\n\t})\n\t.when('/article/:articleId',{\n\t\ttemplateUrl: 'app/views/article.html',\n\t\tcontroller: 'articleCtrl'\n\t}).\n\twhen('/register',{\n\t\ttemplateUrl: 'app/views/register.html',\n\t\tcontroller: 'registerCtrl'\n\t})\n    .when('/addarticle',{\n        templateUrl: 'app/views/addarticle.html',\n        controller: 'addArticleCtrl'\n    })\n     .when('/persons',{\n        templateUrl: 'app/views/persons.html',\n        controller: 'personsCtrl'\n    })\n    .when('/addcustomer',{\n        templateUrl: 'app/views/addcustomer.html',\n        controller: \"addCustCtrl\"\n   })\n    .when('/editcustomer/:customerId',{\n        templateUrl: 'app/views/editcustomer.html',\n        controller: \"editCustCtrl\"\n   })\n\t.otherwise({\n\t\tredirectTo:'app/'\n\t});\n}]);","blogApp.controller('addArticleCtrl',['$scope','$http','articles','LS','artID',function($scope,$http,articles,LS,artID){\r\n//    empty new article obj\r\n\t$scope.article={\r\n        id:\"\",\r\n        img:\"\",\r\n        title:\"\",\r\n        short_desc:\"\",\r\n        desc:\"\"\r\n    };\r\n    \r\n    \r\n    $scope.addArticle=function(article){\r\n//        getting all existing articles\r\n        $scope.articles=LS.getData();\r\n        console.log(\"old articles\"+$scope.articles);\r\n        \r\n        //getting id for new article\r\n        $scope.id=artID.setId();\r\n        if($scope.articles.id=$scope.id){\r\n            $scope.id=artID.setId();\r\n        }\r\n//      setting id and img to new article obj\r\n        $scope.article.id=$scope.id;\r\n        $scope.article.img=\"3.jpg\";\r\n//        pushing new article to the rest of article\r\n        $scope.articles=$scope.articles.push(article);\r\n        console.log(\"new articles\"+$scope.articles);\r\n        console.log($scope.article);\r\n        \r\n        LS.setData($scope.articles);\r\n    }\r\n}]);","blogApp.controller(\"addCustCtrl\",['$scope','$log','LS','$window','customerData',function($scope,$log,LS,$window,customerData){\r\n     $scope.cust={id: 0,name: \"\",lastname: \"\",hobby: \"\",age: \"\"};\r\n      \r\n    \r\n    \r\n    $scope.addCust=function(newCust){\r\n     customerData.addCustomer(newCust).then(function(data){\r\n       $scope.cust=data;\r\n        $window.alert(\"Customer Successeful added!\");\r\n     });\r\n     \r\n    }\r\n    \r\n    $scope.redirect=function(){\r\n         $window.location =\"#/persons\";\r\n    }\r\n}]);","blogApp.controller('articleCtrl',['$scope','$http','$routeParams','articles',function($scope,$http,$routeParams,articles){\r\n\t$scope.article = articles.get({articleId: $routeParams.articleId});\r\n}]);","blogApp.controller('articlesCtrl',['$scope','$window','$http','articles','LS',function($scope,$window,$http,articles,LS){\r\n//\t$window.alert(\"14\");\r\n//\t $scope.articles=articles.query();\r\n//\t $http.get(\"jsondata/articles.json\").success(function(data){\r\n//\t\t console.log(JSON.stringify(data));\r\n//\t\t LS.setData(data,'articles-storage');\r\n//\t\t $scope.articles=data;\r\n//\t });\r\n//\t\r\n\t// article order\r\n\t $scope.orderArticle='-id';\r\n\t \r\n\t // gettind articles\r\n\t  $scope.articles=LS.getData('articles-storage');\r\n\t  console.log($scope.articles);\r\n\t  \r\n\t  //pagination\r\n//\t$window.alert($scope.articles.id);\r\n   $scope.removeArticle = function(id){\r\n       for( i=$scope.articles.length-1; i>=0; i--) {\r\n            if( $scope.articles[i].id == id) $scope.articles.splice(i,1);\r\n           LS.setData($scope.articles);\r\n       }\r\n   }\r\n\t  \r\n}]);\r\n","blogApp.controller(\"editCustCtrl\",['$scope','$window','$routeParams','$log','$location','customerData',function($scope,$window,$routeParams,$log,$location,customerData){\r\n    $scope.customerId=$routeParams.customerId;\r\n    $scope.customer = {};\r\n    init();\r\n    \r\n    \r\n    \r\n    function init(){\r\n        customerData.getCustomer($scope.customerId).then(function(data){\r\n            \r\n            //data.age= 56;\r\n            $scope.customer=data;\r\n            $log.log(data);\r\n            \r\n        });\r\n        \r\n    }\r\n    \r\n    $scope.updateCustomer=function(customer){\r\n        customerData.updateCustomer(customer).then(function(data){\r\n                $window.alert(\"Customer Succesefully Updated\");\r\n                $location.path(\"/persons\");\r\n        });\r\n    }\r\n    \r\n    //    removing data\r\n   $scope.removeData=function(index){\r\n       // $window.alert(\"remove \"+index);\r\n       if(confirm(\"Sure to DELETE?\")){\r\n            customerData.removeItem(index).then(function(data){\r\n                $location.path(\"/persons\");\r\n            });\r\n            \r\n       }\r\n   }\r\n   \r\n   $scope.redirect=function(toUrl,id){\r\n       if(confirm(\"sure cancel editing?\"))\r\n        $location.path(\"/persons\");\r\n   }\r\n   \r\n}]);","blogApp.controller('homeCtrl',['$scope','$http','articles',function($scope,$http,articles){\r\n\t$scope.articles=articles.query();\r\n}]);","blogApp.controller('registerCtrl',['$scope','$http',function($scope,$http){\r\n\t$scope.user={};\r\n}]);","/**\n * @author Admin\n */\nblogApp.directive('someBlogArticles',function(){\n\treturn{\n\t\trestrict: 'A',\n\t\ttemplateUrl: 'app/views/directivetmpl/articles.html'\n\t};\n})\n\n\n.directive(\"someBlogFullArticle\",function(){\n\treturn{\n\t\trestrict: 'E',\n\t\ttemplateUrl: 'app/views/directivetmpl/fullarticle.html'\n\t};\n})\n\n\n.directive('emailRequiredValid',function(){\n\treturn{\n\t\tlink: function(scope, element, attrs){\n\t\t\telement.on(\"blur\",function(){\n\t\t\t\tif(scope.regform.email.$error.required){\n\t\t\t\t\talert(\"field is required\");\n\t\t\t\t}\n\t\t\t\tif(scope.regform.email.$invalid && !scope.regform.email.$error.required){\n\t\t\t\t\talert(\"invalid email\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t};\n})\n\n.directive('nameRequired',function(){\n\treturn{\n\t\tlink: function(scope, element, attrs){\n\t\t\telement.on(\"blur\",function(){\n\t\t\t\tif(scope.regform.name.$error.required){\n\t\t\t\t\talert(\"field is required\");\n\t\t\t\t}\n\t\t\t\tif(scope.regform.$error.minlength){\n\t\t\t\t\talert('You must enter min. 3 characters');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t};\n})\n\n.directive('passRequired',function(){\n\treturn{\n\t\trestrict: 'A',\n\t\tlink: function(scope,element,attrs){\n\t\t\telement.on('blur',function(){\n\t\t\t\tif(scope.regform.password.$error.required){\n\t\t\t\t\talert(\"this field is required\");\n\t\t\t\t}\n\t\t\t\tif(scope.regform.password.$error.minlength){\n\t\t\t\t\talert('You must enter min. 6 characters');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n})\n\n.directive('pwCheck', [function () {\n    return {\n      require: 'ngModel',\n      link: function (scope, elem, attrs) {\n        var firstPassword = '#' + attrs.pwCheck;\n        elem.on('blur', function(){\n        \tif(elem.val()!==$(firstPassword).val()){\n        \t\talert(\"Passwords doesn`t match!\");\n        \t}\n        });\n        \n      }\n    };\n  }]);","var articleServices = angular.module('someBlogServices', ['ngResource']);\r\n\r\narticleServices.factory('articles', ['$resource',\r\n  function($resource){\r\n    return $resource('jsondata/:articleId.json', {}, {\r\n      query: {method:'GET', params:{articleId:'articles'}, isArray:true}\r\n    });\r\n  }]);\r\n  \r\n articleServices.factory(\"LS\",['$window',function($window){\r\n \tinit();\r\n     \r\n     return{\r\n \t\tsetData: function(val,name){\r\n \t\t\t$window.localStorage.setItem(name,JSON.stringify(val));\r\n \t\t},\r\n \t\tgetData: function(name){\r\n \t\t\t return JSON.parse($window.localStorage.getItem(name));\r\n \t\t\t\r\n \t\t},\r\n        clearData: function(name){\r\n            $window.localStorage.removeItem(name);\r\n        }\r\n \t};\r\n     \r\n     function init() {\r\n        if(!$window.localStorage)\r\n                throw new Error('local Storage is not set');\r\n     }\r\n }]);\r\n\r\n articleServices.factory(\"artID\",['$window',function($window){\r\n    return{\r\n        setId: function(){\r\n            return Math.floor((Math.random()*6000)+1);\r\n        }\r\n    }\r\n    \r\n }]);\r\n\r\n articleServices.factory(\"customerData\",[\"$http\",'LS','$q','$filter','$log',function($http,LS,$q,$filter,$log){\r\n     var baseUrl = 'jsondata/articles1.json';\r\n     var dataLoad = null; \r\n     \r\n    // throw('test');\r\n     init();\r\n     return{ \r\n//         ,sort,direction,pageIndex,pageSize            ,pageIndex,pageSize,sortKey, sortDirection\r\n        getData: function(search,sortKey, sortReverse, pageIndex, pageSize)\r\n        {\r\n            return dataLoad.then(function(data) {\r\n                \r\n                //console.log(\"from getData: \\n\"+data);\r\n                //total number of pagination\r\n                pages = Math.ceil(data.length / pageSize);\r\n                \r\n                //if isset searc && search module\r\n                if(search){\r\n                  function searchArr(search){\r\n                        var results = [];\r\n                        for(var i=0;i<data.length;i++){\r\n                            if(data[i].id==search || \r\n                               data[i].name.toLowerCase()==search.toLowerCase() || \r\n                               data[i].lastname.toLowerCase()==search.toLowerCase() || \r\n                               data[i].hobby.toLowerCase()==search.toLowerCase())\r\n                                results.push(data[i]);\r\n                        }\r\n                      return results;\r\n                    }\r\n                    data = searchArr(search);\r\n                        \r\n//                    var seachName = $filter('filter')(data,{{name: search} || {lastname: search}},false);\r\n//                   data=seachName;\r\n                }\r\n                var cout = data.length;\r\n//                if isset sort && sortDirection && sort module\r\n                \r\n                if(sortKey){\r\n                    if(!sortReverse) \r\n                        sortKey=\"-\"+sortKey;\r\n                    else \r\n                        sortKey=\"+\"+sortKey;\r\n                    \r\n                    data = $filter('orderBy')(data,sortKey);\r\n                }\r\n                \r\n                //pagination\r\n                //begin with \r\n                beginWith = ((pageIndex-1) * pageSize);\r\n                data = $filter(\"limitTo\")(data,pageSize,beginWith);\r\n              return {\r\n                 items: data,\r\n                count: cout\r\n              };\r\n                \r\n            }\r\n            //ERROR\r\n                          \r\n                                );\r\n        },\r\n         getCount: function(){\r\n            return dataLoad.then(function(data){\r\n                return data.length;\r\n            })\r\n         },\r\n         removeItem: function(removeId){\r\n                //paramater validation\r\n             return dataLoad.then(function(data){\r\n                                 \r\n                     f = data.findIndex(function(item) { return item.id == removeId; });\r\n                     \r\n                     if(f < 0)\r\n                         return false;\r\n                     data.splice(f,1);\r\n                     \r\n                     LS.setData(data,\"cutomers\");\r\n                     //dataLoad = $q.resolve(data);\r\n                     \r\n                     return true;\r\n             });\r\n         },\r\n         \r\n         \r\n         \r\n         addCustomer: function(newCustomer){\r\n            return dataLoad.then(function(data){\r\n                data.lastId = 0;\r\n                id=0;\r\n                angular.forEach(data,function(value,key){\r\n                    if(value.id >id) id=value.id;\r\n                \r\n                });\r\n                id=id+1;\r\n                newCustomer.id=id;\r\n                data.push(newCustomer);\r\n               // LS.clearData(\"cutomers\");\r\n                LS.setData(data,\"cutomers\");\r\n                //dataLoad.$$state.value=data;\r\n                return angular.copy(newCustomer);// should return new customer - > id outside\r\n            });\r\n         },\r\n         \r\n         getCustomer: function(customerId){\r\n            return dataLoad.then(function(data){\r\n                customer= null;\r\n                for (var i = 0, len = data.length; i < len; i++) {\r\n                    if(data[i].id==customerId){\r\n                        customer=data[i];\r\n                        break;\r\n                    } \r\n                }\r\n                return angular.copy(customer);\r\n            }).catch(onError);\r\n         },\r\n         \r\n         updateCustomer: function(customer){\r\n            return dataLoad.then(function(data){\r\n                arr = [];\r\n                angular.forEach(data,function(value, key){\r\n                    if(value.id!=customer.id) arr.push(value);\r\n                })\r\n                arr.push(customer);\r\n                data=arr;\r\n//                LS.clearData(\"cutomers\");\r\n                LS.setData(data,\"cutomers\");\r\n                dataLoad= $q.resolve(data);\r\n                return data;\r\n            }).catch(onError);\r\n         }\r\n         \r\n        \r\n}\r\n     function init(){\r\n         customers = LS.getData(\"cutomers\");\r\n         if(customers){\r\n            dataLoad = $q.resolve(customers);\r\n         }\r\n             \r\n         else\r\n             dataLoad = $http.get(baseUrl).then(function(response){\r\n                LS.setData(response.data,\"cutomers\");\r\n                 \r\n                return response.data;\r\n            }).catch(function(e) { throw { status: e.staus, message: e.statusText }});\r\n            dataLoad.catch(onError);\r\n         \r\n         return dataLoad;\r\n         \r\n         \r\n         \r\n     }\r\n     \r\n     function onError(error){\r\n         \r\n        $log.error({ status: error.status, message: error.message, source: 'customerData'});\r\n     }\r\n     \r\n }]);"],"sourceRoot":"/source/"}